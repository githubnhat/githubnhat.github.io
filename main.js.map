{"version":3,"sources":["./src/app/components/chat-screen/chat-screen.component.ts","./src/app/components/chat-screen/chat-screen.component.html","./src/app/components/group-member/group-member.component.html","./src/app/components/group-member/group-member.component.ts","./src/app/components/member-name/member-name.component.ts","./src/app/components/member-name/member-name.component.html","./src/environments/environment.ts","./src/app/components/left-screen/left-screen.component.html","./src/app/components/left-screen/left-screen.component.ts","./src/app/components/member-choose/member-choose.component.ts","./src/app/components/member-choose/member-choose.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/services/check-user.service.ts","./src/app/components/search-item/search-item.component.ts","./src/app/components/search-item/search-item.component.html","./src/app/components/message-line/message-line.component.html","./src/app/components/message-line/message-line.component.ts","./src/app/components/registerform/registerform.component.ts","./src/app/components/registerform/registerform.component.html","./src/app/components/user-chat-item/user-chat-item.component.html","./src/app/components/user-chat-item/user-chat-item.component.ts","./src/app/app.module.ts","./src/app/components/forgotpasswordform/forgotpasswordform.component.ts","./src/app/components/forgotpasswordform/forgotpasswordform.component.html","./src/app/components/chat-window/chat-window.component.html","./src/app/components/chat-window/chat-window.component.ts","./src/app/services/web-socket.service.ts","./src/app/services/search.service.ts","./src/app/components/loginform/loginform.component.ts","./src/app/components/loginform/loginform.component.html","./src/app/services/user.service.ts","./src/app/services/chat.service.ts","./src/app/components/join-group/join-group.component.ts","./src/app/components/join-group/join-group.component.html","./src/app/app-routing.module.ts","./src/app/components/create-chat-group/create-chat-group.component.ts","./src/app/components/create-chat-group/create-chat-group.component.html","./src/app/services/room.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { interval, Subscription } from 'rxjs';\r\nimport { ChatDTO } from 'src/app/model/ChatDTO';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { CheckUserService } from 'src/app/services/check-user.service';\r\nimport { SearchService } from 'src/app/services/search.service';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { WebSocketService } from 'src/app/services/web-socket.service';\r\n\r\n@Component({\r\n  selector: 'app-chat-screen',\r\n  templateUrl: './chat-screen.component.html',\r\n  styleUrls: ['./chat-screen.component.css'],\r\n})\r\nexport class ChatScreenComponent implements OnInit, OnDestroy {\r\n  private subcription: Subscription;\r\n  constructor(\r\n    private router: Router,\r\n    private checkUserService: CheckUserService,\r\n    private webSocketService: WebSocketService,\r\n    private userService: UserService,\r\n    private chatService: ChatService,\r\n    private searchService: SearchService\r\n  ) {\r\n    this.subcription = interval(5000).subscribe((x) => {\r\n      checkUserService.updateStatus();\r\n    });\r\n  }\r\n  ngOnDestroy(): void {\r\n    this.subcription.unsubscribe();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (\r\n      this.webSocketService.webSocket === undefined ||\r\n      this.webSocketService.webSocket.readyState !== 1\r\n    ) {\r\n      this.webSocketService.openWebSocket();\r\n\r\n      const itv =  setInterval(() => {\r\n        if(this.webSocketService.webSocket.readyState == 1) {\r\n          this.reLogin();\r\n          clearInterval(itv);\r\n        }\r\n      }, 500)\r\n    }\r\n  }\r\n  async reLogin() {\r\n    const username = localStorage.getItem('user');\r\n    const code = localStorage.getItem('code');\r\n    const result: any = await this.userService.checkReLogin(username, code);\r\n    if (result.status === 'success') {\r\n      localStorage.setItem('code', result.data.RE_LOGIN_CODE);\r\n      const userList = await this.chatService.getUserList();\r\n      const chatDTOs: ChatDTO[] = await this.searchService.getUserListChat(userList['data']);\r\n      this.webSocketService.addListChats(username, chatDTOs);\r\n    } else {\r\n      localStorage.removeItem('user');\r\n      localStorage.removeItem('code');\r\n      this.router.navigateByUrl('login');\r\n    }\r\n  }\r\n}\r\n","<div class=\"chat-screen\">\r\n    <div class=\"left\">\r\n      <app-left-screen></app-left-screen>\r\n    </div>\r\n    <div class=\"right\">\r\n      <app-chat-window></app-chat-window>\r\n    </div>\r\n</div>\r\n","<div class=\"group-member ps-3 pe-3 mb-3\">\r\n  <div class=\"profile\">\r\n    <img class=\"avatar img-fluid me-3\" [src]=\"avatar\" />\r\n    <div>\r\n      <p>{{ name }}</p>\r\n      <!-- Check if id own group -> show role-->\r\n      <p *ngIf=\"own === name\" class=\"role text-secondary\">Admin</p>\r\n    </div>\r\n  </div>\r\n  <!-- Check if session user id === id own group -> show button remove else not show -->\r\n  <button *ngIf=\"own === getUserSession() && own !== name\" class=\"remove\" (click)=\"openRemoveMember(contentRemoveMember)\">\r\n    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n  </button>\r\n</div>\r\n\r\n<ng-template #contentRemoveMember let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\">Remove member</h5>\r\n    <button\r\n      type=\"button\"\r\n      class=\"closeX\"\r\n      aria-label=\"Close\"\r\n      (click)=\"modal.dismiss('Cross click')\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <p>Do you want to remove this member from the group?</p>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-light close\"\r\n      (click)=\"modal.close('Close click')\"\r\n    >\r\n      No\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-primary\">\r\n      Yes\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'app-group-member',\r\n  templateUrl: './group-member.component.html',\r\n  styleUrls: ['./group-member.component.css']\r\n})\r\nexport class GroupMemberComponent implements OnInit {\r\n  @Input() avatar: string;\r\n  @Input() name: string;\r\n  @Input() own: string;\r\n  // @Output() removeMember: EventEmitter<any> = new EventEmitter();\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  openRemoveMember(contentRemoveMember) {\r\n    this.modalService.open(contentRemoveMember, { centered: true, size: 'sm' });\r\n  }\r\n\r\n  getUserSession() {\r\n    return localStorage.getItem(\"user\");\r\n  }\r\n  \r\n  // remove(id: number) {\r\n  //   this.removeMember.emit(id);\r\n  // }\r\n}\r\n","import { Component, Input, OnInit, Output, EventEmitter  } from '@angular/core';\r\n@Component({\r\n  selector: 'app-member-name',\r\n  templateUrl: './member-name.component.html',\r\n  styleUrls: ['./member-name.component.css']\r\n})\r\nexport class MemberNameComponent implements OnInit {\r\n  @Input() name: string;\r\n  @Input() id: number;\r\n  @Output() deleteMember: EventEmitter<number> = new EventEmitter();\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  delete(id: number){\r\n    console.log(id);\r\n    this.deleteMember.emit(id);\r\n  }\r\n}\r\n","<div class=\"member-name\">\r\n    <p class=\"text\">{{ name }}</p>\r\n    <button class=\"btn-add\" (click)=\"delete(id)\">\r\n        <i class=\"fa fa-times\"></i>\r\n    </button>\r\n</div>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","<div class=\"left-screen float-left\">\r\n  <!-- logo and chat app name -->\r\n  <div class=\"logo-and-name\">\r\n    <div class=\"logo float-left\">\r\n      <img src=\"../../../assets/image/logo.jpg\" alt=\"\" />\r\n    </div>\r\n    <div class=\"name-chat-app float-left\">\r\n      <h2 class=\"name\">Messenger</h2>\r\n    </div>\r\n  </div>\r\n  <!-- account-holder -->\r\n  <div class=\"account-holder\">\r\n    <div class=\"avatar\">\r\n      <img\r\n        class=\"image rounded-circle\"\r\n        src=\"../../../assets/image/avatar.png\"\r\n        alt=\"\"\r\n      />\r\n    </div>\r\n    <div class=\"user-name\">\r\n      <H5 class=\"name text\">{{ userName }}</H5>\r\n    </div>\r\n    <button class=\"btn-log-out float-left\" (click)=\"logout()\">\r\n      <i class=\"fa fa-sign-out\"></i>\r\n    </button>\r\n  </div>\r\n  <!-- create group -->\r\n  <div class=\"container-create-group\">\r\n    <div class=\"create-group float-left\" (click)=\"modal.show()\">\r\n      <h5>Create group</h5>\r\n      <app-create-chat-group #modal></app-create-chat-group>\r\n    </div>\r\n    <div class=\"join-group float-left\" (click)=\"modal1.show()\">\r\n      <h5>Join group</h5>\r\n      <app-join-group #modal1></app-join-group>\r\n    </div>\r\n  </div>\r\n  <!-- search -->\r\n  <div class=\"box\">\r\n    <div class=\"container-search\">\r\n      <input\r\n        type=\"search\"\r\n        id=\"search\"\r\n        placeholder=\"Search...\"\r\n        [(ngModel)]=\"name\"\r\n        (keydown.enter)=\"onKey($event)\"\r\n      />\r\n      <button class=\"icon\" (click)=\"search()\">\r\n        <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n      </button>\r\n      <div \r\n        #contentSearchModal\r\n        (click)=\"onContainerClicked($event)\"\r\n        class=\"modal fade modal-style\"\r\n        tabindex=\"-1\"\r\n        [ngClass]=\"{ in: visibleAnimate }\"\r\n        [ngStyle]=\"{\r\n          display: visible ? 'block' : 'none',\r\n          opacity: visibleAnimate ? 1 : 0\r\n        }\"\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\">Search</h5>\r\n              <button\r\n                type=\"button\"\r\n                class=\"closeX\"\r\n                aria-label=\"Close\"\r\n                (click)=\"hide()\"\r\n              >\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div class=\"modal-body members-group scrollbar style-1\">\r\n              <div (click)=\"selectSearchItem(chat)\" *ngFor=\"let chat of listSearch\">\r\n                <app-search-item  [chatDTO]= \"chat\"></app-search-item>\r\n              </div>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-light close\"\r\n                (click)=\"hide()\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- list chat items -->\r\n  <div class=\"list-chat-items\">\r\n    <div class=\"scrollbar\" id=\"style-1\">\r\n      <div class=\"force-overflow\">\r\n        <div\r\n          (click)=\"updateStatus(uci)\"\r\n          class=\"chat-item\"\r\n          *ngFor=\"let uci of getListChats()\"\r\n        >\r\n          <app-user-chat-item\r\n            [messageDTO]=\"getLatest(uci)\"\r\n            [isSelect]=\"uci.isSelect\"\r\n            [isGroup]=\"uci.isGroup\"\r\n            [name]=\"uci.name\"\r\n            [status]=\"uci.status\"\r\n          ></app-user-chat-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { ChatDTO } from 'src/app/model/ChatDTO';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { ChatMessageDTO } from 'src/app/model/ChatMessageDTO';\r\nimport { CheckUserService } from 'src/app/services/check-user.service';\r\nimport { SearchService } from 'src/app/services/search.service';\r\n@Component({\r\n  selector: 'app-left-screen',\r\n  templateUrl: './left-screen.component.html',\r\n  styleUrls: ['./left-screen.component.css'],\r\n})\r\nexport class LeftScreenComponent implements OnInit {\r\n  userName: string = localStorage.getItem('user');\r\n  name: string = '';\r\n  public visible = false;\r\n  public visibleAnimate = false;\r\n  listSearch: ChatDTO[] = [];\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private chatService: ChatService,\r\n    private checkUserService: CheckUserService,\r\n    private searchService: SearchService\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  updateStatus(chatDTO: ChatDTO) {\r\n    this.chatService.getListChat().forEach((element) => {\r\n      if (\r\n        element.name != chatDTO.name ||\r\n        (element.name == chatDTO.name && element.isGroup != chatDTO.isGroup)\r\n      ) {\r\n        element.isSelect = false;\r\n      } else {\r\n        element.isSelect = true;\r\n        if (element.messages.length > 0) {\r\n          element.messages[element.messages.length - 1].unRead = false;\r\n        }\r\n        this.chatService.setSelectedChat(element);\r\n      }\r\n    });\r\n  }\r\n  async logout() {\r\n    const result = await this.userService.logout();\r\n    if (result === 'success') {\r\n      this.chatService.clearChatSelected();\r\n      localStorage.removeItem('user');\r\n      this.router.navigateByUrl('login');\r\n      this.userService.webSocketService.closeWebSocket();\r\n    } else {\r\n      alert('err');\r\n    }\r\n  }\r\n  getListChats() {\r\n    return this.chatService.getListChat();\r\n  }\r\n  getLatest(chatDTO: ChatDTO) {\r\n    const length = chatDTO.messages.length;\r\n    if (length == 0) {\r\n      return null;\r\n    } else {\r\n      if (chatDTO.isSelect) {\r\n        chatDTO.messages[length - 1].unRead = false;\r\n      }\r\n      const chatLatest: ChatMessageDTO = Object.assign(\r\n        {},\r\n        chatDTO.messages[length - 1]\r\n      );\r\n      if (chatLatest.sender === localStorage.getItem('user'))\r\n        chatLatest.sender = 'You';\r\n      return chatLatest;\r\n    }\r\n  }\r\n\r\n  async search() {\r\n    this.listSearch = [];\r\n    if (this.name === undefined || this.name.trim() === '') {\r\n      alert('You must enter username');\r\n    } else {\r\n      const chatIsGroup: ChatDTO = this.chatService.checkChatInChatList(\r\n        this.name,\r\n        true\r\n      );\r\n      const chatIsNotGroup: ChatDTO = this.chatService.checkChatInChatList(\r\n        this.name,\r\n        false\r\n      );\r\n      // both chats are not in the chat list\r\n      if (chatIsGroup === null && chatIsNotGroup === null) {\r\n        const peopleChat: ChatDTO = await this.searchPeopleChat();\r\n        const groupChat: ChatDTO = await this.searchGroupchat();\r\n        if (peopleChat != null) {\r\n          this.listSearch.push(peopleChat);\r\n        }\r\n        if (groupChat != null) {\r\n          this.listSearch.push(groupChat);\r\n        }\r\n        if (this.listSearch.length == 1) {\r\n          this.chatService.setSelectedChat(this.listSearch[0]);\r\n          this.chatService.addChat(this.listSearch[0]);\r\n          this.updateStatus(this.listSearch[0]);\r\n        } else if (this.listSearch.length == 2) {\r\n          this.show();\r\n        }\r\n      } else if (chatIsGroup !== null && chatIsNotGroup === null) {\r\n        //only group chat is available in the chat list\r\n        const peopleChat: ChatDTO = await this.searchPeopleChat();\r\n        if (peopleChat != null) {\r\n          this.listSearch.push(chatIsGroup);\r\n          this.listSearch.push(peopleChat);\r\n          this.show();\r\n        } else {\r\n          this.updateStatus(chatIsGroup);\r\n        }\r\n      } else if (chatIsGroup === null && chatIsNotGroup !== null) {\r\n        //only people chat is available in the chat list\r\n        const groupChat: ChatDTO = await this.searchGroupchat();\r\n        if (groupChat != null) {\r\n          this.listSearch.push(chatIsNotGroup);\r\n          this.listSearch.push(groupChat);\r\n          this.show();\r\n        } else {\r\n          this.updateStatus(chatIsNotGroup);\r\n        }\r\n      } else {\r\n        // both chats are available in the chat list\r\n        this.listSearch.push(chatIsGroup);\r\n        this.listSearch.push(chatIsNotGroup);\r\n        this.show();\r\n      }\r\n      this.name = '';\r\n    }\r\n  }\r\n  onKey(event: any) {\r\n    this.search();\r\n  }\r\n\r\n  async searchPeopleChat(): Promise<ChatDTO> {\r\n    let chat: ChatDTO;\r\n    let listMessages: ChatMessageDTO[] = [];\r\n    let numberPage: number = 1;\r\n    let peopleChat: any = await this.searchService.searchPeopleChat(\r\n      this.name,\r\n      numberPage\r\n    );\r\n    if (peopleChat.status === 'success') {\r\n      // while() to check next page data\r\n      while (peopleChat.data.length !== 0) {\r\n        listMessages = this.getListMessages(peopleChat.data, listMessages);\r\n        numberPage++;\r\n        peopleChat = await this.searchService.searchPeopleChat(\r\n          this.name,\r\n          numberPage\r\n        );\r\n      }\r\n      const status: boolean =\r\n        (await this.checkUserService.checkUser(this.name)) === true;\r\n      chat = {\r\n        name: this.name,\r\n        messages: listMessages,\r\n        isGroup: false,\r\n        isSelect: false,\r\n        members: [],\r\n        status: status,\r\n      };\r\n    } else {\r\n      return null;\r\n    }\r\n    return chat;\r\n  }\r\n  async searchGroupchat(): Promise<ChatDTO> {\r\n    let chat: ChatDTO;\r\n    let numberPage: number = 1;\r\n    let listMessages: ChatMessageDTO[] = [];\r\n    let groupChat: any = await this.searchService.searchGroupChat(\r\n      this.name,\r\n      numberPage\r\n    );\r\n    // while() to check next page data\r\n    if (groupChat.status === 'success') {\r\n      while (groupChat.data.chatData.length !== 0) {\r\n        listMessages = this.getListMessages(\r\n          groupChat.data.chatData,\r\n          listMessages\r\n        );\r\n        numberPage++;\r\n        groupChat = await this.searchService.searchGroupChat(\r\n          this.name,\r\n          numberPage\r\n        );\r\n      }\r\n      const members: string[] = this.getListMembers(groupChat.data);\r\n      let status = false;\r\n      // check group online\r\n      for (const member of members) {\r\n        if (localStorage.getItem('user') === member) continue;\r\n        const s = await this.checkUserService.checkUser(member);\r\n        if (s) {\r\n          status = true;\r\n          break;\r\n        }\r\n      }\r\n      chat = {\r\n        name: groupChat.data.name,\r\n        messages: listMessages,\r\n        isGroup: true,\r\n        isSelect: false,\r\n        members: members,\r\n        status: status,\r\n      };\r\n    } else {\r\n      return null;\r\n    }\r\n    return chat;\r\n  }\r\n\r\n  // select peopleChat or groupChat in modal\r\n  selectSearchItem(chatDTO: ChatDTO) {\r\n    const chat: ChatDTO = this.chatService.checkChatInChatList(\r\n      chatDTO.name,\r\n      chatDTO.isGroup\r\n    );\r\n    // if you select an unavailable chat in chat list\r\n    if (chat === null) {\r\n      this.chatService.setSelectedChat(chatDTO);\r\n      this.chatService.addChat(chatDTO);\r\n    }\r\n    // if you select an available chat in chat list\r\n    this.updateStatus(chatDTO);\r\n    this.listSearch = [];\r\n    this.hide();\r\n    this.name = '';\r\n  }\r\n\r\n  getListMessages(\r\n    chatData: any[],\r\n    listMessages: ChatMessageDTO[]\r\n  ): ChatMessageDTO[] {\r\n    chatData.forEach((element) => {\r\n      const chatMessageDTO: ChatMessageDTO = {\r\n        sender: element.name,\r\n        receiver: element.to,\r\n        message: element.mes,\r\n        time: new Date(Date.parse(element.createAt)).toLocaleString('es-ES'),\r\n        unRead: false,\r\n        position: '',\r\n      };\r\n      listMessages.unshift(chatMessageDTO);\r\n    });\r\n    return listMessages;\r\n  }\r\n\r\n  getListMembers(userData: any): string[] {\r\n    const members: string[] = [userData.own];\r\n    userData.userList.forEach((element) => {\r\n      members.push(element.name);\r\n    });\r\n    return members;\r\n  }\r\n\r\n  // modal\r\n  public show(): void {\r\n    this.visible = true;\r\n    setTimeout(() => (this.visibleAnimate = true), 100);\r\n  }\r\n\r\n  public hide(): void {\r\n    this.visibleAnimate = false;\r\n    setTimeout(() => (this.visible = false), 20);\r\n  }\r\n  public onContainerClicked(event: MouseEvent): void {\r\n    if ((<HTMLElement>event.target).classList.contains('contentSearchModal')) {\r\n      this.hide();\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-member-choose',\r\n  templateUrl: './member-choose.component.html',\r\n  styleUrls: ['./member-choose.component.css']\r\n})\r\nexport class MemberChooseComponent implements OnInit {\r\n\r\n  @Input() avatar: string;\r\n  @Input() name: string;\r\n  @Input() isSelect: boolean;\r\n  @Input() id: number;\r\n  @Output() deleteMember: EventEmitter<number> = new EventEmitter();\r\n  @Output() addMember: EventEmitter<number> = new EventEmitter();\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  delete(id: number, isSelect: boolean) {\r\n    if (isSelect) {\r\n      this.deleteMember.emit(id);\r\n    }\r\n  }\r\n  add(id: number, isSelect: boolean) {\r\n    if (!isSelect) {\r\n      this.addMember.emit(id);\r\n    }\r\n  }\r\n}\r\n","<div class=\"user-item\" [ngStyle]=\"{'background-color': isSelect? '#F9FAFC' : 'white',\r\n                                    'border': isSelect ? '1px solid #DBE5ED': '1px solid white'}\">\r\n    <div class=\"avatar\" (click)=\"add(id, isSelect)\">\r\n        <img class=\"image rounded-circle img-fluid\" [src]=\"(avatar)\" alt=\"\">\r\n    </div>\r\n    <div class=\"content ml-3\">\r\n        <div class=\"content-left\" (click)=\"add(id, isSelect)\" >\r\n            <h5 class=\"name text ps-2 mb-1\">{{ name }}</h5>\r\n        </div>\r\n        <div class=\"content-right\"  \r\n        [class.hide] = \"isSelect\" \r\n        [class.show] = \"!isSelect\"\r\n         (click)=\"add(id, isSelect)\">\r\n            <button class=\"btn-add\"\r\n                [ngStyle]=\"{'background-color': !isSelect ? 'white' : '#F9FAFC'}\">\r\n                <i class=\"fa fa-plus\"></i>\r\n            </button>\r\n        </div>\r\n        <div class=\"content-right float-right\" \r\n        [class.show] = \"isSelect\" \r\n        [class.hide] = \"!isSelect\">\r\n            <button class=\"btn-add\" (click)=\"delete(id, isSelect)\"\r\n                [ngStyle]=\"{'background-color': isSelect ? 'white' : '#F9FAFC'}\">\r\n                <i class=\"fa fa-minus\"></i>\r\n            </button>\r\n        </div>\r\n    </div>  \r\n</div> \r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  arrUserChatItem = [\r\n    {status: 0 , statusUser: 0, avatar: '../../../assets/image/avatar.png', name: \"Minh Nhật\", message: 'You: How are you?', time: ''},\r\n    {status: 1 , statusUser: 1, avatar: '../../../assets/image/avatar.png', name: \"Huy Phước\", message: 'You: How are you?', time: '10:23'},\r\n    {status: 1 , statusUser: 2, avatar: '../../../assets/image/avatar.png', name: \"Thanh Tôn\", message: 'You: How are you?', time: '6.6.21'}\r\n  ]\r\n}\r\n","<router-outlet></router-outlet>","import { Injectable } from '@angular/core';\r\nimport { ChatDTO } from '../model/ChatDTO';\r\nimport { WebSocketService } from './web-socket.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CheckUserService {\r\n\r\n  constructor(public webSocketService: WebSocketService) { }\r\n\r\n  async checkUser(username: String) {\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify({\r\n        action: \"onchat\",\r\n        data: {\r\n          event: \"CHECK_USER\",\r\n          data: {\r\n            user: username\r\n          }\r\n        }\r\n      })\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      resolve(res.data.status);\r\n    });\r\n  }\r\n\r\n\r\n  async updateStatus() {\r\n    const chatDTOs: ChatDTO[] = this.webSocketService.getListChats();\r\n    if (chatDTOs !== undefined) {\r\n      for (const chat of this.webSocketService.getListChats()) {\r\n        let status;\r\n        if (chat.isGroup) {\r\n          for (const member of chat.members) {\r\n            if (localStorage.getItem(\"user\") === member) continue;\r\n            const s = await this.checkUser(member);\r\n            if (s) {\r\n              status = true;\r\n              break;\r\n            }\r\n          }\r\n        } else\r\n          status = await this.checkUser(chat.name) ? true : false;\r\n\r\n        chat.status = status;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ChatDTO } from 'src/app/model/ChatDTO';\r\n\r\n@Component({\r\n  selector: 'app-search-item',\r\n  templateUrl: './search-item.component.html',\r\n  styleUrls: ['./search-item.component.css']\r\n})\r\nexport class SearchItemComponent implements OnInit {\r\n  @Input() chatDTO: ChatDTO;\r\n  constructor() { \r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  \r\n\r\n}\r\n","<div class=\"group-member ps-3 pe-3 mb-3\">\r\n  <div class=\"profile\">\r\n    <img class=\"avatar img-fluid me-3\" [src]=\"\r\n    chatDTO.isGroup ? '../../../assets/image/group-avatar.png'\r\n            : '../../../assets/image/avatar.png'\" />\r\n    <div>\r\n      <p>{{ chatDTO.name }}</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n","<!-- if me not show avatar and message-line flex-end -->\r\n<div\r\n  class=\"message-line\"\r\n  [ngStyle]=\"{\r\n    'justify-content': username === getUserSession() ? 'flex-end' : 'flex-start',\r\n    'margin-top': position === 'start' || position === 'single' ? '30px' : '0px'\r\n  }\"\r\n>\r\n  <img\r\n    *ngIf=\"username !== getUserSession() && (position === 'start' || position === 'single')\"\r\n    src=\"../../../assets/image/avatar.png\"\r\n    alt=\"Not found\"\r\n    class=\"rounded-circle\"\r\n  />\r\n  <div class=\"message-details\" \r\n  [ngStyle] = \"{\r\n    'margin-left': (position === 'end' || position === 'between') && username !== getUserSession() ? '60px' : '0px'\r\n  }\">\r\n    <!-- if group chat show name, if chat 1:1 not show name -->\r\n    <p *ngIf=\"isGroup && username !== getUserSession() && (position === 'start' || position === 'single')\" class=\"fullname\">\r\n      {{ username }}\r\n    </p>\r\n    <!-- <p *ngIf=\"!isGroup\"></p> -->\r\n    <div *ngIf=\"username !== getUserSession()\"\r\n      [ngStyle]=\"{\r\n        'background-color': 'white',\r\n        color: '#504848',\r\n        'border-color': '#d0c5c5',\r\n        'margin-top': (position === 'start' || position === 'single') && !isGroup ? '15px' : '0px'\r\n      }\"\r\n      class=\"message-text\"\r\n      [attr.title]=\"time\"\r\n      [class.message-text-start] = \"position === 'start'\" \r\n      [class.message-text-between] = \"position === 'between'\"\r\n      [class.message-text-end] = \"position === 'end'\"\r\n      [class.message-text-single] = \"position === 'single'\"\r\n    >\r\n    <span>{{ message }}</span>\r\n    </div>\r\n    <div *ngIf=\"username === getUserSession()\"\r\n      [ngStyle]=\"{\r\n        'background-color': '#3e9cde',\r\n        color: 'white',\r\n        'border-color': '#3e9cde',\r\n        'margin-top': (position === 'start' || position === 'single') && !isGroup ? '15px' : '0px'\r\n      }\"\r\n      class=\"message-text\"\r\n      [attr.title]=\"time\"\r\n      [class.message-text-start-1] = \"position === 'start'\" \r\n      [class.message-text-between-1] = \"position === 'between'\"\r\n      [class.message-text-end-1] = \"position === 'end'\"\r\n      [class.message-text-single-1] = \"position === 'single'\"\r\n    >\r\n      <span>{{ message }}</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-message-line',\r\n  templateUrl: './message-line.component.html',\r\n  styleUrls: ['./message-line.component.css']\r\n})\r\nexport class MessageLineComponent implements OnInit {\r\n\r\n  @Input() username: string;\r\n  @Input() isGroup: boolean;\r\n  @Input() time: string;\r\n  @Input() message: string;\r\n  @Input() position: string;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  getUserSession() {\r\n    return localStorage.getItem(\"user\");\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { UserDTO } from 'src/app/model/UserDTO';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { WebSocketService } from 'src/app/services/web-socket.service';\r\n@Component({\r\n  selector: 'app-registerform',\r\n  templateUrl: './registerform.component.html',\r\n  styleUrls: ['./registerform.component.css'],\r\n})\r\nexport class RegisterformComponent implements OnInit {\r\n  alert_username: boolean = false;\r\n  alert_password: boolean = false;\r\n  alert_space: boolean = false;\r\n  alert_confirm: boolean = false;\r\n  alert_wronguser: boolean = false;\r\n\r\n  register_form = new FormGroup({\r\n    username: new FormControl(),\r\n    password: new FormControl(),\r\n    confirm_password: new FormControl(),\r\n  });\r\n  private _validator: any;\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private webSocketService: WebSocketService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    const username = localStorage.getItem('user');\r\n    if (username !== null) {\r\n      this.router.navigateByUrl('chat');\r\n    } else {\r\n      if (this.webSocketService.webSocket === undefined || this.webSocketService.webSocket.readyState == 3 || this.webSocketService.webSocket.readyState == 2) {\r\n        this.webSocketService.openWebSocket();\r\n      }\r\n    }\r\n  }\r\n  async signUp() {\r\n    let username =\r\n      this.register_form.value.username == null\r\n        ? ''\r\n        : this.register_form.value.username;\r\n    let password =\r\n      this.register_form.value.password == null\r\n        ? ''\r\n        : this.register_form.value.password;\r\n    let confirm_password =\r\n      this.register_form.value.confirm_password == null\r\n        ? ''\r\n        : this.register_form.value.confirm_password;\r\n    if (username.trim() === '') {\r\n      this.onErrorUsername();\r\n    } else if (password.length < 6) {\r\n      this.onErrorPassword();\r\n    } else if (password.includes(' ')) {\r\n      this.onErrorSpace();\r\n    } else if (password !== confirm_password) {\r\n      this.onErrorConfirm();\r\n    } else {\r\n      const user: UserDTO = {\r\n        username: username,\r\n        password: password,\r\n      };\r\n      const result = await this.userService.checkRegister(user);\r\n      if (result === 'success') {\r\n        const resultLogin = await this.userService.checkLogin(user);\r\n        if (resultLogin['status'] === 'success') {\r\n          localStorage.setItem('code', resultLogin['data']['RE_LOGIN_CODE'])\r\n          localStorage.setItem('user', username);\r\n          this.webSocketService.addListChats(username, []);\r\n          this.router.navigateByUrl('chat');\r\n        } else {\r\n          // alert(\"wrong \")\r\n        }\r\n      } else {\r\n        this.onErrorUser();\r\n        this.register_form.reset();\r\n      }\r\n    }\r\n  }\r\n\r\n  returnLogin() {\r\n    this.router.navigateByUrl('/');\r\n  }\r\n  // Username = null or username = ''\r\n  onErrorUsername() {\r\n    this.alert_username = true;\r\n    setTimeout(() => {\r\n      this.alert_username = false;\r\n    }, 4000);\r\n  }\r\n  // Password.length >= 6\r\n  onErrorPassword() {\r\n    this.alert_password = true;\r\n    setTimeout(() => {\r\n      this.alert_password = false;\r\n    }, 4000);\r\n  }\r\n  // Password has space\r\n  onErrorSpace() {\r\n    this.alert_space = true;\r\n    setTimeout(() => {\r\n      this.alert_space = false;\r\n    }, 4000);\r\n  }\r\n  // Password !== confirmpassword\r\n  onErrorConfirm() {\r\n    this.alert_confirm = true;\r\n    setTimeout(() => {\r\n      this.alert_confirm = false;\r\n    }, 4000);\r\n  }\r\n  // User already exists\r\n  onErrorUser() {\r\n    this.alert_wronguser = true;\r\n    setTimeout(() => {\r\n      this.alert_wronguser = false;\r\n    }, 4000);\r\n  }\r\n}\r\n","<form action=\"\" [formGroup]=\"register_form\" (ngSubmit)=\"signUp()\">\r\n  <div class=\"body\">\r\n    <img src=\"../../../assets/image/logo.jpg\" alt=\"\" />\r\n    <div class=\"input\">\r\n      <div class=\"md-form input-group mt-0 mb-3 full-width\">\r\n        <input type=\"text\" class=\"form-control\" placeholder=\"Username*\" formControlName=\"username\" />\r\n      </div>\r\n      <div class=\"md-form input-group mt-0 mb-3 full-width\">\r\n        <input type=\"password\" class=\"form-control\" placeholder=\"Password*\" formControlName=\"password\" />\r\n      </div>\r\n      <div class=\"md-form input-group mt-0 mb-3 full-width\">\r\n        <input type=\"password\" class=\"form-control\" placeholder=\"Confirm Password*\"\r\n          formControlName=\"confirm_password\"   />\r\n      </div>\r\n    </div>\r\n    <div class=\"button-register\">\r\n      <button class=\"button\" (onclick)=\"signUp()\">Register</button>\r\n    </div>\r\n    <div class=\"button-return\">\r\n      <a (click)=\"returnLogin()\">Return to login</a>\r\n    </div>\r\n  </div>\r\n  \r\n</form>\r\n<div *ngIf=\"alert_username\" class=\"alert alert-danger\" role=\"alert\">\r\n  <strong>Need to enter username ! </strong> please try again\r\n</div>\r\n<div *ngIf=\"alert_password\" class=\"alert alert-danger\" role=\"alert\">\r\n  <strong>Password has 6 characters or more !</strong> please try again\r\n</div>\r\n<div *ngIf=\"alert_space\" class=\"alert alert-danger\" role=\"alert\">\r\n  <strong>Password has space !</strong> please try again\r\n</div>\r\n<div *ngIf=\"alert_confirm\" class=\"alert alert-danger\" role=\"alert\">\r\n  <strong>Confirm password is wrong !</strong> please try again\r\n</div>\r\n<div *ngIf=\"alert_wronguser\" class=\"alert alert-danger\" role=\"alert\">\r\n  <strong>Username already exists !</strong> please try again\r\n</div>\r\n<router-outlet></router-outlet>\r\n","<div class=\"user-item\" [ngStyle]=\"{'background-color': isSelect == true ? '#eeeeee' : 'white',\r\n                                            'border': isSelect == true ? '1px solid #DBE5ED': '1px solid white','opacity' : isSelect == true ? '1' : '0.7'\r\n                                            }\">\r\n    <div class=\"avatar\">\r\n        <img class=\"image rounded-circle\"  [src]=\"\r\n        isGroup ? '../../../assets/image/group-avatar.png'\r\n                : '../../../assets/image/avatar.png'\" alt=\"\">\r\n        <div *ngIf=\"status\" class=\"status green\"></div>\r\n    </div>\r\n   \r\n    <div class=\"content\">\r\n        <div class=\"content-left float-left\">\r\n            <H5 class=\"name text ps-2 pt-2 mb-1\"  \r\n            [ngStyle]=\"{'font-weight' : messageDTO!==null && messageDTO.unRead ? 'bold' : 'normal'}\">{{ name }}</H5>\r\n\r\n            <p *ngIf=\"(messageDTO !== null && isGroup) || (messageDTO !== null && messageDTO.sender === 'You')\"\r\n            [ngStyle]=\"{'font-weight' : messageDTO!==null && messageDTO.unRead ? 'bold' : 'normal',\r\n                        'color': messageDTO!==null && messageDTO.unRead ? '#000000' : '#7B8793'}\" \r\n            class=\"newest-message text ps-2\">{{ messageDTO.sender }}: {{ messageDTO.message }}</p>\r\n\r\n            <p *ngIf=\"messageDTO !== null && !isGroup && messageDTO.sender !== 'You'\" \r\n            [ngStyle]=\"{'font-weight' : messageDTO!==null && messageDTO.unRead ? 'bold' : 'normal',\r\n            'color': messageDTO!==null && messageDTO.unRead ? '#000000' : '#7B8793'}\" \r\n            class=\"newest-message text ps-2\">{{ messageDTO.message }}</p>\r\n        </div>\r\n        <div class=\"content-right float-right\">\r\n            <p *ngIf=\"messageDTO !== null\" class=\"time\">{{ messageDTO.time }}</p>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, Input, OnInit, SimpleChanges } from '@angular/core';\r\nimport { ChatMessageDTO } from 'src/app/model/ChatMessageDTO';\r\n@Component({\r\n  selector: 'app-user-chat-item',\r\n  templateUrl: './user-chat-item.component.html',\r\n  styleUrls: ['./user-chat-item.component.css'],\r\n})\r\nexport class UserChatItemComponent implements OnInit {\r\n  @Input() isSelect: boolean;\r\n  @Input() isGroup: string;\r\n  @Input() name: string;\r\n  @Input() messageDTO: ChatMessageDTO;\r\n  @Input() status: boolean\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport  {  NgxEmojiPickerModule  }  from  'ngx-emoji-picker';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { LoginformComponent } from './components/loginform/loginform.component';\r\nimport { RegisterformComponent } from './components/registerform/registerform.component';\r\nimport { MessageLineComponent } from './components/message-line/message-line.component';\r\nimport { UserChatItemComponent } from './components/user-chat-item/user-chat-item.component';\r\nimport { ForgotpasswordformComponent } from './components/forgotpasswordform/forgotpasswordform.component';\r\nimport { LeftScreenComponent } from './components/left-screen/left-screen.component';\r\nimport { ChatWindowComponent } from './components/chat-window/chat-window.component';\r\nimport { ChatScreenComponent } from './components/chat-screen/chat-screen.component';\r\nimport { CreateChatGroupComponent } from './components/create-chat-group/create-chat-group.component';\r\nimport { MemberChooseComponent } from './components/member-choose/member-choose.component';\r\nimport { MemberNameComponent } from './components/member-name/member-name.component';\r\nimport { GroupMemberComponent } from './components/group-member/group-member.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { JoinGroupComponent } from './components/join-group/join-group.component';\r\nimport { SearchItemComponent } from './components/search-item/search-item.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginformComponent,\r\n    RegisterformComponent,\r\n    MessageLineComponent,\r\n    UserChatItemComponent,\r\n    ForgotpasswordformComponent,\r\n    LeftScreenComponent,\r\n    ChatWindowComponent,\r\n    ChatScreenComponent,\r\n    CreateChatGroupComponent,\r\n    MemberChooseComponent,\r\n    MemberNameComponent,\r\n    GroupMemberComponent,\r\n    JoinGroupComponent,\r\n    SearchItemComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    NgbModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgxEmojiPickerModule.forRoot()\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-forgotpasswordform',\r\n  templateUrl: './forgotpasswordform.component.html',\r\n  styleUrls: ['./forgotpasswordform.component.css']\r\n})\r\nexport class ForgotpasswordformComponent implements OnInit {\r\n\r\n  constructor(private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  returnLogin() {\r\n    this.router.navigateByUrl('/');\r\n  }\r\n}\r\n","<form action=\"\">\r\n\r\n  <div class=\"body\">\r\n      <img src=\"../../../assets/image/logo.jpg\" alt=\"\" />\r\n    <div class=\"input\">\r\n        \r\n        <div class=\"md-form input-group mt-0 mb-3 full-width\">\r\n          <input type=\"email\" class=\"form-control\" placeholder=\"Email*\" />\r\n        </div>\r\n        \r\n      </div>\r\n     \r\n      <div class=\"button-login\">\r\n        <button type=\"submit\" class=\"button\">Reset Password</button>\r\n      </div>\r\n      <div class=\"button-signup\">\r\n        <a (click)=\"returnLogin()\">Return to login</a>\r\n      </div>\r\n   </div>\r\n</form>\r\n","<div class=\"chat-window\">\r\n  <div class=\"header row align-items-center\">\r\n    <div *ngIf=\"chat.name !== null\" class=\"col-6 chat-title\">\r\n      <div class=\"avatar\">\r\n        <img\r\n          class=\"rounded-circle\"\r\n          [src]=\"\r\n            chat.isGroup\r\n              ? '../../../assets/image/group-avatar.png'\r\n              : '../../../assets/image/avatar.png'\r\n          \"\r\n        />\r\n        <div *ngIf=\"chat.status\" class=\"status green\"></div>\r\n        <span class=\"chat-name\">{{ chat.name }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-5\"></div>\r\n    <div\r\n      *ngIf=\"chat.name !== null\"\r\n      class=\"col-1 chat-settings d-inline-block col-1\"\r\n      ngbDropdown\r\n    >\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn settings-icon\"\r\n        id=\"dropdownSettings\"\r\n        ngbDropdownToggle\r\n      >\r\n        <i class=\"fa fa-ellipsis-v\" aria-hidden=\"true\"></i>\r\n      </button>\r\n      <!-- Chat group -->\r\n      <div\r\n        *ngIf=\"chat.isGroup\"\r\n        ngbDropdownMenu\r\n        aria-labelledby=\"dropdownSettings\"\r\n      >\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-paint-brush me-3\" aria-hidden=\"true\"></i>Color\r\n        </button>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-smile-o me-3\" aria-hidden=\"true\"></i>Emoji\r\n        </button>\r\n        <button\r\n          ngbDropdownItem\r\n          (click)=\"openChangeGroupName(contentChangeGroupName)\"\r\n        >\r\n          <i class=\"fa fa-pencil me-3\" aria-hidden=\"true\"></i>Group name\r\n        </button>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-bell me-3\" aria-hidden=\"true\"></i>Mute Notifications\r\n        </button>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-file-image-o me-3\" aria-hidden=\"true\"></i>View Media &\r\n          Files\r\n        </button>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <button ngbDropdownItem (click)=\"openAddMembers(contentAddMembers)\">\r\n          <i class=\"fa fa-user-plus me-3\" aria-hidden=\"true\"></i>Add Members\r\n        </button>\r\n        <button ngbDropdownItem (click)=\"openMembers(contentMembers)\">\r\n          <i class=\"fa fa-users me-3\" aria-hidden=\"true\"></i>Group Members\r\n        </button>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-exclamation-triangle me-3\" aria-hidden=\"true\"></i\r\n          >Something's Wrong\r\n        </button>\r\n        <button ngbDropdownItem (click)=\"openLeaveGroup(contentLeaveGroup)\">\r\n          <i class=\"fa fa-sign-out me-3\" aria-hidden=\"true\"></i>Leave Group\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Chat 1:1 -->\r\n      <div\r\n        *ngIf=\"!chat.isGroup\"\r\n        ngbDropdownMenu\r\n        aria-labelledby=\"dropdownSettings\"\r\n      >\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-user me-3\" aria-hidden=\"true\"></i>View Profile\r\n        </button>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-paint-brush me-3\" aria-hidden=\"true\"></i>Color\r\n        </button>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-smile-o me-3\" aria-hidden=\"true\"></i>Emoji\r\n        </button>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-bell me-3\" aria-hidden=\"true\"></i>Mute Notifications\r\n        </button>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-file-image-o me-3\" aria-hidden=\"true\"></i>View Media &\r\n          Files\r\n        </button>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-exclamation-triangle me-3\" aria-hidden=\"true\"></i\r\n          >Something's Wrong\r\n        </button>\r\n        <button ngbDropdownItem>\r\n          <i class=\"fa fa-minus-circle me-3\" aria-hidden=\"true\"></i>Block\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"content\">\r\n    <div class=\"scrollbar style-1 pt-3\" #scrollMe>\r\n      <app-message-line\r\n        *ngFor=\"let item of getListChatMessage()\"\r\n        [username]=\"item.sender\"\r\n        [isGroup]=\"chat.isGroup\"\r\n        [time]=\"item.time\"\r\n        [message]=\"item.message\"\r\n        [position]=\"item.position\"\r\n      ></app-message-line>\r\n    </div>\r\n  </div>\r\n  <div\r\n    [ngStyle]=\"{ visibility: chat.name === null ? 'hidden' : 'visible' }\"\r\n    class=\"footer\"\r\n  >\r\n    <textarea\r\n      class=\"text-message\"\r\n      placeholder=\"Type a message...\"\r\n      [value]=\"message\"\r\n      (input)=\"message = $event.target.value\"\r\n      (keydown.enter)=\"onKey($event)\"\r\n    ></textarea>\r\n    <button type=\"button\" class=\"btn btn-emoji\">\r\n      <i\r\n        (click)=\"toggleEmoji = !toggleEmoji\"\r\n        [(emojiPickerIf)]=\"toggleEmoji\"\r\n        [emojiPickerDirection]=\"'bottom' || 'top' || 'left' || 'right'\"\r\n        (emojiPickerSelect)=\"handleSelection($event)\"\r\n        class=\"fa fa-smile-o\"\r\n        aria-hidden=\"true\"\r\n      ></i>\r\n    </button>\r\n    <div class=\"btn-file\">\r\n      <label for=\"file-upload\">\r\n        <i class=\"fa fa-paperclip\" aria-hidden=\"true\"></i>\r\n      </label>\r\n      <input type=\"file\" id=\"file-upload\" />\r\n    </div>\r\n    <button type=\"button\" class=\"btn btn-send\" (click)=\"sendMessage()\">\r\n      <i class=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i>\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #contentChangeGroupName let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\">Change Group Name</h5>\r\n    <button\r\n      type=\"button\"\r\n      class=\"closeX\"\r\n      aria-label=\"Close\"\r\n      (click)=\"modal.dismiss('Cross click')\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <p class=\"text-secondary\">\r\n      Changing the name of a group chat changes it for everyone.\r\n    </p>\r\n    <input type=\"text\" class=\"group-name-change\" />\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-light close\"\r\n      (click)=\"modal.close('Close click')\"\r\n    >\r\n      Cancel\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-primary\">Save</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #contentLeaveGroup let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\">Leave Group Chat?</h5>\r\n    <button\r\n      type=\"button\"\r\n      class=\"closeX\"\r\n      aria-label=\"Close\"\r\n      (click)=\"modal.dismiss('Cross click')\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <p class=\"text-secondary\">\r\n      You will stop receiving messages from this conversation and people will\r\n      see that you left.\r\n    </p>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-light close ps-3 pe-3\"\r\n      (click)=\"modal.close('Close click')\"\r\n    >\r\n      Cancel\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-danger ps-3 pe-3\">Leave Group</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #contentAddMembers let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\">Add Members</h5>\r\n    <button\r\n      type=\"button\"\r\n      class=\"closeX\"\r\n      aria-label=\"Close\"\r\n      (click)=\"modal.dismiss('Cross click')\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body add-members\">\r\n    <div class=\"member-name\">\r\n      <div class=\"title\"><p>Members:</p></div>\r\n      <div class=\"list-member\">\r\n        <div class=\"scrollbar-1\" id=\"style-2\">\r\n          <div\r\n            class=\"force-overflow-1\"\r\n            [ngStyle]=\"{ width: lengthScrollbarMember }\"\r\n          >\r\n            <!-- <div class=\"member-item\" *ngFor=\"let mb of arrMember\">\r\n              <app-member-name\r\n                [name]=\"mb.name\"\r\n                [id]=\"mb.id\"\r\n                (deleteMember)=\"deleteMember(mb.id)\"\r\n              ></app-member-name>\r\n            </div> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- search -->\r\n    <div class=\"box\">\r\n      <div class=\"container-search\">\r\n        <input type=\"search\" id=\"search\" placeholder=\"Search...\" />\r\n        <button class=\"icon\"><i class=\"fa fa-search\"></i></button>\r\n      </div>\r\n    </div>\r\n    <!-- list user -->\r\n    <div class=\"list-chat-items\">\r\n      <div class=\"scrollbar style-1\">\r\n        <div class=\"force-overflow\">\r\n          <!-- <div class=\"chat-item\" *ngFor=\"let mb of arrMemberChoose\">\r\n            <app-member-choose\r\n              (addMember)=\"addMember(mb.id, mb.isSelect)\"\r\n              [isSelect]=\"mb.isSelect\"\r\n              [avatar]=\"mb.avatar\"\r\n              [name]=\"mb.name\"\r\n              [id]=\"mb.id\"\r\n              (deleteMember)=\"deleteMember(mb.id)\"\r\n            ></app-member-choose>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-light close ps-3 pe-3\"\r\n      (click)=\"modal.close('Close click')\"\r\n    >\r\n      Cancel\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-primary ps-3 pe-3\">Save</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #contentMembers let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\">Members</h5>\r\n    <button\r\n      type=\"button\"\r\n      class=\"closeX\"\r\n      aria-label=\"Close\"\r\n      (click)=\"modal.dismiss('Cross click')\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body members-group scrollbar style-1\">\r\n    <div class=\"force-overflow\" *ngFor=\"let mb of chat.members\">\r\n      <app-group-member\r\n        avatar = '../../../assets/image/avatar.png'\r\n        [name]=\"mb\"\r\n        [own]=\"chat.members[0]\"\r\n      ></app-group-member>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-light close\"\r\n      (click)=\"modal.close('Close click')\"\r\n    >\r\n      Close\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n","import {\r\n  AfterContentChecked,\r\n  AfterViewChecked,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { NgbModal, NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Subscription } from 'rxjs';\r\nimport { ChatDTO } from 'src/app/model/ChatDTO';\r\nimport { ChatMessageDTO } from 'src/app/model/ChatMessageDTO';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { SearchService } from 'src/app/services/search.service';\r\ndeclare var $: any;\r\n@Component({\r\n  selector: 'app-chat-window',\r\n  templateUrl: './chat-window.component.html',\r\n  styleUrls: ['./chat-window.component.css'],\r\n})\r\nexport class ChatWindowComponent implements OnInit, AfterViewChecked {\r\n  @ViewChild('scrollMe') private myScrollContainer: ElementRef;\r\n  toggleEmoji: boolean = false;\r\n  message: string = '';\r\n  chat: ChatDTO = {\r\n    name: null,\r\n    messages: [],\r\n    isGroup: false,\r\n    isSelect: false,\r\n    members: [],\r\n    status: false,\r\n  };\r\n  subscription: Subscription;\r\n  lengthScrollbarMember: string;\r\n  countMessages: number = 0;\r\n\r\n  constructor(\r\n    private modalService: NgbModal,\r\n    private chatService: ChatService,\r\n    private searchService: SearchService\r\n  ) {\r\n    this.subscription = this.chatService\r\n      .getSelectChat()\r\n      .subscribe((value) => (this.chat = value));\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    const messages = this.chatService.getListChatMessage(this.chat);\r\n    if (messages !== undefined) {\r\n      if (this.countMessages !== messages.length) {\r\n        this.scrollToBottom();\r\n        this.countMessages = messages.length;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    $('.text-message').keydown(function (e) {\r\n      // Enter pressed\r\n      if (e.keyCode == 13 && !e.shiftKey) {\r\n        //method to prevent from default behavior\r\n        e.preventDefault();\r\n      }\r\n    });\r\n  }\r\n\r\n  scrollToBottom(): void {\r\n    try {\r\n      this.myScrollContainer.nativeElement.scrollTop =\r\n        this.myScrollContainer.nativeElement.scrollHeight;\r\n    } catch (err) {}\r\n  }\r\n\r\n  handleSelection(event) {\r\n    this.message += event.char;\r\n  }\r\n\r\n  openChangeGroupName(contentChangeGroupName) {\r\n    this.modalService.open(contentChangeGroupName, { centered: true });\r\n  }\r\n\r\n  openLeaveGroup(contentLeaveGroup) {\r\n    this.modalService.open(contentLeaveGroup, { centered: true });\r\n  }\r\n\r\n  openAddMembers(contentAddMembers) {\r\n    const modal = this.modalService.open(contentAddMembers, { centered: true });\r\n    // modal.result.then(() => { this.clearMembersChoose() }, () => { this.clearMembersChoose() })\r\n  }\r\n\r\n  async openMembers(contentMembers) {\r\n    const chatDTO: any = await this.searchService.searchGroupChat(this.chat.name, 1);\r\n    if (chatDTO.status === 'success') {\r\n    const members = this.getListMembers(chatDTO.data);\r\n    this.chat.members = members;\r\n    }\r\n    const modal = this.modalService.open(contentMembers, { centered: true });\r\n  }\r\n\r\n  getListMembers(userData: any): string[] {\r\n    const members: string[] = [userData.own];\r\n    userData.userList.forEach((element) => {\r\n      members.push(element.name);\r\n    });\r\n    return members;\r\n  }\r\n  // send chat\r\n  sendMessage() {\r\n    if (this.message.length === 0) return;\r\n    this.chatService.sendMessage(\r\n      this.chat.name,\r\n      this.chat.isGroup,\r\n      this.message\r\n    );\r\n    this.message = '';\r\n  }\r\n\r\n  getListChatMessage(): ChatMessageDTO[] {\r\n    const messages = this.chatService.getListChatMessage(this.chat);\r\n    return messages;\r\n  }\r\n\r\n  onKey(event: any) {\r\n    this.sendMessage();\r\n  }\r\n  // deleteMember(id: number) {\r\n  //   const indexOfArrMember = this.arrMember.findIndex(member => member.id === id);\r\n  //   this.arrMember.splice(indexOfArrMember, 1);\r\n  //   const indexOfArrMemberChoose = this.arrMemberChoose.findIndex(member => member.id === id);\r\n  //   this.arrMemberChoose[indexOfArrMemberChoose].isSelect = false;\r\n  // }\r\n\r\n  // addMember(id: number) {\r\n  //   this.arrMemberChoose.forEach(e => {\r\n  //     if (e.id === id) {\r\n  //       e.isSelect = true;\r\n  //       this.arrMember.unshift(e);\r\n  //       this.lengthScrollbarMember = (this.arrMember.length * 120).toString() + \"px\";\r\n  //     }\r\n  //   })\r\n  // }\r\n\r\n  // clearMembersChoose() {\r\n  //   this.arrMember = [];\r\n  //   this.arrMemberChoose.forEach(e => e.isSelect = false);\r\n  // }\r\n\r\n  // removeMember(id: number) {\r\n  //   console.log(id);\r\n  // }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ChatDTO } from '../model/ChatDTO';\r\nimport { ChatMessageDTO } from '../model/ChatMessageDTO';\r\nimport { ChatStorage } from '../model/ChatStorage';\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class WebSocketService {\r\n  webSocket: WebSocket;\r\n  res: string;\r\n  chatStorage: ChatStorage = {};\r\n\r\n  constructor() {}\r\n\r\n  public openWebSocket() {\r\n    this.webSocket = new WebSocket('ws://203.113.148.132:23023/chat/chat');\r\n\r\n    this.webSocket.onopen = (event) => {\r\n      console.log('Open', event);\r\n    };\r\n\r\n    this.webSocket.onclose = (event) => {\r\n      console.log('Close', event);\r\n    };\r\n  }\r\n\r\n  public sendMessage(message: string) {\r\n    this.webSocket.send(message);\r\n\r\n    return new Promise((resolve) => {\r\n      this.webSocket.onmessage = (event) => {\r\n        const response = JSON.parse(event.data);\r\n        if (response.event === 'SEND_CHAT') {\r\n          const isGroup: boolean = response.data.type === 0 ? false : true;\r\n          const chatMessage: ChatMessageDTO = {\r\n            sender: response.data.name,\r\n            receiver: response.data.to,\r\n            message: response.data.mes,\r\n            time: new Date().toLocaleString('es-ES'),\r\n            unRead: true,\r\n            position: \"\"\r\n          };\r\n          this.addChatMessage(chatMessage, false, isGroup);\r\n        }\r\n        this.res = event.data;\r\n        resolve(this.res);\r\n      };\r\n    });\r\n  }\r\n\r\n  public sendChatMessage(message: string) {\r\n    this.webSocket.send(message);\r\n  }\r\n\r\n  public closeWebSocket() {\r\n    this.webSocket.close();\r\n  }\r\n  async searchGroupChat(groupName: string, page: number) {\r\n    await this.sendMessage(\r\n      JSON.stringify({\r\n        action: 'onchat',\r\n        data: {\r\n          event: 'GET_ROOM_CHAT_MES',\r\n          data: {\r\n            name: groupName,\r\n            page: page,\r\n          },\r\n        },\r\n      })\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.res);\r\n      resolve(res);\r\n    });\r\n  }\r\n\r\n  async searchPeopleChat(groupName: string, page: number) {\r\n    await this.sendMessage(\r\n      JSON.stringify({\r\n        action: 'onchat',\r\n        data: {\r\n          event: 'GET_PEOPLE_CHAT_MES',\r\n          data: {\r\n            name: groupName,\r\n            page: page,\r\n          },\r\n        },\r\n      })\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.res);\r\n      resolve(res);\r\n    });\r\n  }\r\n  async addChatMessage(\r\n    chatMessage: ChatMessageDTO,\r\n    isSend: boolean,\r\n    isGroup: boolean\r\n  ) {\r\n    let name;\r\n    if (isGroup) {\r\n      name = chatMessage.receiver;\r\n    } else {\r\n      name = isSend ? chatMessage.receiver : chatMessage.sender;\r\n    }\r\n    const hasChat = this.hasChat(name, isGroup);\r\n    if (hasChat) {\r\n      let chat: ChatDTO;\r\n      this.chatStorage[this.getUserSession()].forEach((e) => {\r\n        if (e.name.toLowerCase() === name.toLowerCase() && e.isGroup === isGroup) {\r\n          e.messages.push(chatMessage);\r\n          chat = e;\r\n          const index = this.chatStorage[this.getUserSession()].indexOf(e);\r\n          this.chatStorage[this.getUserSession()].splice(index, 1);\r\n          return;\r\n        }\r\n      });\r\n      this.chatStorage[this.getUserSession()].unshift(chat);\r\n    } else {\r\n      let chatDTO: ChatDTO = {\r\n        name: name,\r\n        messages: [chatMessage],\r\n        isGroup: isGroup,\r\n        isSelect: isSend ? true : false,\r\n        members: [],\r\n        status: false,\r\n      };\r\n      // trick\r\n      if (!chatDTO.isGroup) {\r\n        await this.searchPeopleChat(chatDTO.name, 1);\r\n      }\r\n      if (chatDTO.isGroup){\r\n        await this.searchGroupChat(chatDTO.name, 1);\r\n      }\r\n      chatDTO = await this.updateNewChat(chatDTO);\r\n      this.chatStorage[this.getUserSession()].unshift(chatDTO);\r\n    }\r\n  }\r\n\r\n  private hasChat(name: string, isGroup: boolean) {\r\n    for (const element of this.chatStorage[this.getUserSession()])\r\n      if (\r\n        element.name.toLowerCase() === name.toLowerCase() &&\r\n        element.isGroup === isGroup\r\n      )\r\n        return true;\r\n    return false;\r\n  }\r\n\r\n  private getUserSession(): string {\r\n    return localStorage.getItem('user');\r\n  }\r\n\r\n  public getListChats(): ChatDTO[] {\r\n    return this.chatStorage[this.getUserSession()];\r\n  }\r\n\r\n  public addListChats(username: string, chatDTOs: ChatDTO[]) {\r\n    // if (this.chatStorage[username] === undefined) {\r\n      this.chatStorage[username] = chatDTOs;\r\n    // }\r\n  }\r\n\r\n  async updateNewChat(chatDTO: ChatDTO): Promise<ChatDTO> {\r\n    let numberPage = 1;\r\n    let listMessages: ChatMessageDTO[] = [];\r\n    if (chatDTO.isGroup) {\r\n      let groupChat: any = await this.searchGroupChat(chatDTO.name, numberPage);\r\n      if (groupChat.status === 'success') {\r\n        // while() to check next page data\r\n        while (groupChat.data.chatData.length !== 0) {\r\n          listMessages = this.getListMessages(\r\n            groupChat.data.chatData,\r\n            listMessages\r\n          );\r\n          numberPage++\r\n          groupChat = await this.searchGroupChat(chatDTO.name, numberPage);\r\n        }\r\n        const members: string[] = this.getListMembers(groupChat.data);\r\n        listMessages[listMessages.length - 1].unRead = true;\r\n        chatDTO.messages = listMessages;\r\n        chatDTO.members = members;\r\n      }\r\n    } else {\r\n      let peopleChat: any = await this.searchPeopleChat(\r\n        chatDTO.name,\r\n        numberPage\r\n      );\r\n      if (peopleChat.status === 'success') {\r\n      // while() to check next page data\r\n      while (peopleChat.data.length !== 0) {\r\n        listMessages = this.getListMessages(peopleChat.data, listMessages);\r\n        numberPage++\r\n        peopleChat = await this.searchPeopleChat(chatDTO.name, numberPage);\r\n      }\r\n\r\n        listMessages[listMessages.length - 1].unRead = true;\r\n        chatDTO.messages = listMessages;\r\n      }\r\n    }\r\n    return chatDTO;\r\n  }\r\n\r\n  getListMessages(\r\n    chatData: any[],\r\n    listMessages: ChatMessageDTO[]\r\n  ): ChatMessageDTO[] {\r\n    chatData.forEach((element) => {\r\n      const chatMessageDTO: ChatMessageDTO = {\r\n        sender: element.name,\r\n        receiver: element.to,\r\n        message: element.mes,\r\n        time: new Date(Date.parse(element.createAt)).toLocaleString('es-ES'),\r\n        unRead: false,\r\n        position: \"\"\r\n      };\r\n      listMessages.unshift(chatMessageDTO);\r\n    });\r\n    return listMessages;\r\n  }\r\n\r\n  getListMembers(userData: any): string[] {\r\n    const members: string[] = [userData.own];\r\n    userData.userList.forEach((element) => {\r\n      members.push(element.name);\r\n    });\r\n    return members;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ChatDTO } from '../model/ChatDTO';\r\nimport { ChatMessageDTO } from '../model/ChatMessageDTO';\r\nimport { WebSocketService } from './web-socket.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SearchService {\r\n  constructor(public webSocketService: WebSocketService) {}\r\n\r\n  async searchGroupChat(groupName: string, page: number) {\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify({\r\n        action: 'onchat',\r\n        data: {\r\n          event: 'GET_ROOM_CHAT_MES',\r\n          data: {\r\n            name: groupName,\r\n            page: page,\r\n          },\r\n        },\r\n      })\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      resolve(res);\r\n    });\r\n  }\r\n\r\n  async searchPeopleChat(username: string, page: number) {\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify({\r\n        action: 'onchat',\r\n        data: {\r\n          event: 'GET_PEOPLE_CHAT_MES',\r\n          data: {\r\n            name: username,\r\n            page: page,\r\n          },\r\n        },\r\n      })\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      resolve(res);\r\n    });\r\n  }\r\n\r\n  async getUserListChat(data: any): Promise<ChatDTO[]> {\r\n    const result: ChatDTO[] = [];\r\n    for (let i = 0; i < data.length; i++) {\r\n      const element = data[i];\r\n      let chatDTO: ChatDTO;\r\n      let pageNumber = 1;\r\n      if (element['type'] === 0) {\r\n        let messages = await this.searchPeopleChat(element['name'], pageNumber);\r\n        let listMessages: ChatMessageDTO[] = [];\r\n        if (messages['status'] === 'success') {\r\n          while (messages['data'].length != 0) {\r\n            listMessages = this.getListMessage(messages['data'], listMessages);\r\n            pageNumber++;\r\n            messages = await this.searchPeopleChat(element['name'], pageNumber);\r\n          }\r\n          chatDTO = {\r\n            name: element['name'],\r\n            messages: listMessages,\r\n            isGroup: false,\r\n            isSelect: false,\r\n            members: [],\r\n            status: false,\r\n          };\r\n          result.push(chatDTO);\r\n        }\r\n      } else if (element['type'] === 1) {\r\n        let messages = await this.searchGroupChat(element['name'], pageNumber);\r\n        let listMessages: ChatMessageDTO[] = [];\r\n        if (messages['status'] === 'success') {\r\n          const members: string[] = this.getListMembers(messages['data']);\r\n          while (messages['data']['chatData'].length != 0) {\r\n            listMessages = this.getListMessage(\r\n              messages['data']['chatData'],\r\n              listMessages\r\n            );\r\n            pageNumber++;\r\n            messages = await this.searchGroupChat(element['name'], pageNumber);\r\n          }\r\n          chatDTO = {\r\n            name: element['name'],\r\n            messages: listMessages,\r\n            isGroup: true,\r\n            isSelect: false,\r\n            members: members,\r\n            status: false,\r\n          };\r\n          result.push(chatDTO);\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getListMessage(data: any, listMessages: ChatMessageDTO[]): ChatMessageDTO[] {\r\n    data.forEach((element) => {\r\n      const chatMessageDTO: ChatMessageDTO = {\r\n        sender: element.name,\r\n        receiver: element.to,\r\n        message: element.mes,\r\n        time: new Date(Date.parse(element.createAt)).toLocaleString('es-ES'),\r\n        unRead: false,\r\n        position: '',\r\n      };\r\n      listMessages.unshift(chatMessageDTO);\r\n    });\r\n    return listMessages;\r\n  }\r\n\r\n  getListMembers(userData: any): string[] {\r\n    const members: string[] = [userData.own];\r\n    userData.userList.forEach((element) => {\r\n      members.push(element.name);\r\n    });\r\n    return members;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ChatDTO } from 'src/app/model/ChatDTO';\r\nimport { UserDTO } from 'src/app/model/UserDTO';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { SearchService } from 'src/app/services/search.service';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { WebSocketService } from 'src/app/services/web-socket.service';\r\n\r\n@Component({\r\n  selector: 'app-loginform',\r\n  templateUrl: './loginform.component.html',\r\n  styleUrls: ['./loginform.component.css'],\r\n})\r\nexport class LoginformComponent implements OnInit {\r\n  alert_username: boolean = false;\r\n  alert_password: boolean = false;\r\n  alert_space: boolean = false;\r\n  alert: boolean = false;\r\n  login_form = new FormGroup({\r\n    username: new FormControl(),\r\n    password: new FormControl(),\r\n  });\r\n  ngOnInit(): void {\r\n    const username = localStorage.getItem('user');\r\n    if (username !== null) {\r\n      this.router.navigateByUrl('chat');\r\n    } else {\r\n      if (this.webSocketService.webSocket === undefined || this.webSocketService.webSocket.readyState == 3 || this.webSocketService.webSocket.readyState == 2) {\r\n        this.webSocketService.openWebSocket();\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private webSocketService: WebSocketService,\r\n    private userService: UserService,\r\n    private chatService: ChatService,\r\n    private searchService: SearchService\r\n  ) { }\r\n\r\n  async login() {\r\n    let username =\r\n      this.login_form.value.username == null\r\n        ? ' '\r\n        : this.login_form.value.username;\r\n    let password =\r\n      this.login_form.value.password == null\r\n        ? ' '\r\n        : this.login_form.value.password;\r\n    if (username.trim() === '') {\r\n      this.onErrorUsername();\r\n    } else if (password.length < 6) {\r\n      this.onErrorPassword();\r\n    } else if (password.includes(' ')) {\r\n      this.onErrorSpace();\r\n    } else {\r\n      const user: UserDTO = {\r\n        username: username,\r\n        password: password,\r\n      };\r\n      \r\n      const result : any = await this.userService.checkLogin(user);\r\n      if (result.status === 'success') {\r\n        localStorage.setItem('user', username);\r\n        localStorage.setItem('code', result.data.RE_LOGIN_CODE)\r\n        const userList = await this.chatService.getUserList();\r\n        const chatDTOs: ChatDTO[] = await this.searchService.getUserListChat(userList['data']);\r\n        this.webSocketService.addListChats(username, chatDTOs);\r\n        this.router.navigateByUrl('chat');\r\n      } else {\r\n        this.onError();\r\n        this.login_form.reset();\r\n      }\r\n    }\r\n  }\r\n  register(): void {\r\n    this.router.navigateByUrl('register');\r\n  }\r\n  forgotpassword(): void {\r\n    this.router.navigateByUrl('forgotpassword');\r\n  }\r\n  onError() {\r\n    this.alert = true;\r\n    setTimeout(() => {\r\n      this.alert = false;\r\n    }, 4000);\r\n  }\r\n  // Username = null or username = ''\r\n  onErrorUsername() {\r\n    this.alert_username = true;\r\n    setTimeout(() => {\r\n      this.alert_username = false;\r\n    }, 4000);\r\n  }\r\n  // Password.length >= 6\r\n  onErrorPassword() {\r\n    this.alert_password = true;\r\n    setTimeout(() => {\r\n      this.alert_password = false;\r\n    }, 4000);\r\n  }\r\n  // Password has space\r\n  onErrorSpace() {\r\n    this.alert_space = true;\r\n    setTimeout(() => {\r\n      this.alert_space = false;\r\n    }, 4000);\r\n  }\r\n}\r\n","<form action=\"\" [formGroup]=\"login_form\" (ngSubmit)=\"login()\">\r\n  <div class=\"body\">\r\n    <img src=\"../../../assets/image/logo.jpg\" alt=\"\" />\r\n    <div class=\"input\">\r\n      <div class=\"md-form input-group mt-0 mb-3 full-width\">\r\n        <input type=\"text\" class=\"form-control\" id=\"Username\" placeholder=\"Username*\" formControlName=\"username\" />\r\n      </div>\r\n      <div class=\"md-form input-group mt-0 mb-3 full-width\">\r\n        <input type=\"password\" class=\"form-control\"  placeholder=\"Password*\" formControlName=\"password\" />\r\n      </div>\r\n    </div>\r\n    <a type=\"submit\" (click)=\"forgotpassword()\">Forgot your password?</a>\r\n    <div class=\"button-login\">\r\n      <button type=\"submit\" class=\"button\" (onclick)=\"login()\" >Login</button>\r\n    </div>\r\n    <div class=\"button-signup\">\r\n      <nav>\r\n        <a type=\"submit\" (click)=\"register()\">Don't have account?</a>\r\n        <a type=\"submit\" class=\"button\" (click)=\"register()\">Sign up</a>\r\n      </nav>\r\n  \r\n    </div>\r\n  </div>\r\n</form>\r\n<div *ngIf=\"alert_username\" class=\"alert alert-danger\" role=\"alert\" >\r\n  <strong>Need to enter username !</strong> please try again\r\n</div>\r\n<div *ngIf=\"alert_password\" class=\"alert alert-danger\" role=\"alert\">\r\n  <strong>Password has 6 characters or more !</strong> please try again\r\n</div>\r\n<div *ngIf=\"alert_space\" class=\"alert alert-danger\" role=\"alert\">\r\n  <strong>Password has space !</strong> please try again\r\n</div>\r\n<div *ngIf=\"alert\" class=\"alert alert-danger\" role=\"alert\" >\r\n  <strong>Incorrect username or password !</strong> please try again\r\n</div>\r\n<router-outlet></router-outlet>\r\n","import { Injectable } from '@angular/core';\r\nimport { UserDTO } from '../model/UserDTO';\r\nimport { WebSocketService } from './web-socket.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class UserService {\r\n\r\n  constructor(public webSocketService: WebSocketService) {\r\n  }\r\n\r\n  private getMessage(username: string, password: string) {\r\n    return {\r\n      action: 'onchat',\r\n      data: {\r\n        event: 'LOGIN',\r\n        data: {\r\n          user: username,\r\n          pass: password,\r\n        },\r\n      },\r\n    };\r\n  }\r\n\r\n  private getRegister(username: string, password: string) {\r\n    return {\r\n      action: \"onchat\",\r\n      data: {\r\n        event: \"REGISTER\",\r\n        data: {\r\n          user: username,\r\n          pass: password\r\n        }\r\n      }\r\n    }\r\n  }\r\n  private getReLogin(username : string, code : string){\r\n    return {\r\n      action: \"onchat\",\r\n      data: {\r\n        event: \"RE_LOGIN\",\r\n        data: {\r\n          user: username,\r\n          code: code\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async checkLogin(user: UserDTO) {\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify(this.getMessage(user.username, user.password))\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      resolve(res);\r\n    });\r\n  }\r\n  \r\n  async checkReLogin(username :string , code : string){\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify(this.getReLogin(username, code))\r\n    )\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      resolve(res);\r\n    });\r\n  }\r\n\r\n  async checkRegister(user: UserDTO) {\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify(this.getRegister(user.username, user.password))\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      resolve(res.status);\r\n    });\r\n  }\r\n\r\n  async logout() {\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify({\r\n        action: 'onchat',\r\n        data: {\r\n          event: 'LOGOUT'\r\n        }\r\n      })\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      resolve(res.status);\r\n    });\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { ChatDTO } from '../model/ChatDTO';\r\nimport { ChatMessageDTO } from '../model/ChatMessageDTO';\r\nimport { WebSocketService } from './web-socket.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ChatService {\r\n  private selectedChat: ChatDTO;\r\n  private subject = new Subject<any>();\r\n  constructor(public webSocketService: WebSocketService) {}\r\n\r\n  private getSendMessage(to: string, type: string, mes: string) {\r\n    return {\r\n      action: 'onchat',\r\n      data: {\r\n        event: 'SEND_CHAT',\r\n        data: {\r\n          type: type,\r\n          to: to,\r\n          mes: mes,\r\n        },\r\n      },\r\n    };\r\n  }\r\n\r\n  private getUserListMessage() {\r\n    return {\r\n      action: 'onchat',\r\n      data: {\r\n        event: 'GET_USER_LIST',\r\n      },\r\n    };\r\n  }\r\n\r\n  async getUserList() {\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify(this.getUserListMessage())\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      console.log(\"Alo\",res)\r\n      resolve(res);\r\n    });\r\n  }\r\n\r\n  public sendMessage(to: string, isGroup: boolean, mes: string) {\r\n    const type = isGroup ? 'room' : 'people';\r\n    this.webSocketService.sendChatMessage(\r\n      JSON.stringify(this.getSendMessage(to, type, mes))\r\n    );\r\n    const chatMessage: ChatMessageDTO = {\r\n      sender: localStorage.getItem('user'),\r\n      receiver: to,\r\n      message: mes,\r\n      time: new Date().toLocaleString('es-ES'),\r\n      unRead: false,\r\n      position: '',\r\n    };\r\n    if (\r\n      chatMessage.sender !== to ||\r\n      (chatMessage.sender === to && isGroup === true)\r\n    ) {\r\n      this.webSocketService.addChatMessage(chatMessage, true, isGroup);\r\n    }\r\n  }\r\n\r\n  public getListChatMessage(chatDTO: ChatDTO): ChatMessageDTO[] {\r\n    let listMesDTO: ChatMessageDTO[];\r\n    const chatDTOs: ChatDTO[] = this.webSocketService.getListChats();\r\n    if (chatDTOs !== undefined) {\r\n      for (const element of chatDTOs)\r\n        if (\r\n          element.name === chatDTO.name &&\r\n          element.isGroup === chatDTO.isGroup\r\n        ) {\r\n          listMesDTO = element.messages;\r\n          this.setPosition(listMesDTO);\r\n        }\r\n      return listMesDTO;\r\n    }\r\n  }\r\n\r\n  public getListChat(): ChatDTO[] {\r\n    return this.webSocketService.getListChats();\r\n  }\r\n\r\n  public addChat(chatDTO: ChatDTO): void {\r\n    this.webSocketService.getListChats().unshift(chatDTO);\r\n  }\r\n\r\n  public setSelectedChat(chatDTO: ChatDTO) {\r\n    this.selectedChat = chatDTO;\r\n    this.subject.next(this.selectedChat);\r\n  }\r\n\r\n  public getSelectChat(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public checkChatInChatList(name: string, isGroup: boolean): ChatDTO {\r\n    let result: ChatDTO = null;\r\n    this.getListChat().forEach((element) => {\r\n      if (\r\n        element.name.toLowerCase() === name.toLowerCase() &&\r\n        element.isGroup === isGroup\r\n      ) {\r\n        result = element;\r\n        return;\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  public clearChatSelected() {\r\n    this.getListChat().forEach((element) => {\r\n      element.isSelect = false;\r\n    });\r\n  }\r\n\r\n  setPosition(listMessagesDTO: ChatMessageDTO[]) {\r\n    for (let i = 0; i < listMessagesDTO.length; i++) {\r\n      const eBefore = listMessagesDTO[i - 1];\r\n      const element = listMessagesDTO[i];\r\n      const eAfter = listMessagesDTO[i + 1];\r\n      if (\r\n        eBefore === undefined ||\r\n        eBefore.sender !== element.sender ||\r\n        this.compareDate(eBefore.time, element.time) > 30000\r\n      ) {\r\n        if (eAfter !== undefined) {\r\n          if (\r\n            element.sender !== eAfter.sender ||\r\n            this.compareDate(element.time, eAfter.time) > 30000\r\n          ) {\r\n            element.position = 'single';\r\n          } else if (\r\n            element.sender === eAfter.sender &&\r\n            this.compareDate(element.time, eAfter.time) <= 30000\r\n          ) {\r\n            element.position = 'start';\r\n          }\r\n        } else {\r\n          element.position = 'single';\r\n        }\r\n      } else if (\r\n        eBefore !== undefined &&\r\n        (eBefore.sender === element.sender ||\r\n          this.compareDate(eBefore.time, element.time) <= 30000)\r\n      ) {\r\n        if (eAfter !== undefined) {\r\n          if (\r\n            element.sender === eAfter.sender &&\r\n            this.compareDate(element.time, eAfter.time) <= 30000\r\n          ) {\r\n            element.position = 'between';\r\n          } else if (\r\n            element.sender !== eAfter.sender ||\r\n            this.compareDate(element.time, eAfter.time) > 30000\r\n          ) {\r\n            element.position = 'end';\r\n          }\r\n        } else {\r\n          element.position = 'end';\r\n        }\r\n      }\r\n    }\r\n  }\r\n  compareDate(date1: string, date2: string): number {\r\n    return this.toDate(date2).getTime() - this.toDate(date1).getTime();\r\n  }\r\n\r\n  toDate(dateString: string) {\r\n    const temp: string[] = dateString.split(' ');\r\n    const ntn: string[] = temp[0].split('/');\r\n    const gpg: string[] = temp[1].split(':');\r\n    return new Date(\r\n      Number(ntn[0]),\r\n      Number(ntn[1]),\r\n      Number(ntn[2]),\r\n      Number(gpg[0]),\r\n      Number(gpg[1]),\r\n      Number(gpg[2])\r\n    );\r\n  }\r\n}\r\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { ChatDTO } from 'src/app/model/ChatDTO';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { RoomService } from 'src/app/services/room.service';\r\nimport { ChatMessageDTO } from 'src/app/model/ChatMessageDTO';\r\nimport { CheckUserService } from 'src/app/services/check-user.service';\r\nimport { SearchService } from 'src/app/services/search.service';\r\n\r\n@Component({\r\n  selector: 'app-join-group',\r\n  templateUrl: './join-group.component.html',\r\n  styleUrls: ['./join-group.component.css'],\r\n})\r\nexport class JoinGroupComponent implements OnInit {\r\n  @ViewChild('gName') myInputVariable: ElementRef;\r\n  groupName = '';\r\n  public visible = false;\r\n  public visibleAnimate = false;\r\n  constructor(\r\n    private roomService: RoomService,\r\n    private chatService: ChatService,\r\n    private checkUserService: CheckUserService,\r\n    private searchService: SearchService\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n  // modal\r\n  public show(): void {\r\n    this.visible = true;\r\n    setTimeout(() => (this.visibleAnimate = true), 100);\r\n  }\r\n\r\n  public hide(): void {\r\n    this.visibleAnimate = false;\r\n    setTimeout(() => (this.visible = false), 20);\r\n  }\r\n  public onContainerClicked(event: MouseEvent): void {\r\n    if ((<HTMLElement>event.target).classList.contains('modal')) {\r\n      this.hide();\r\n    }\r\n  }\r\n  // reset input\r\n  reset() {\r\n    this.myInputVariable.nativeElement.value = '';\r\n    this.groupName = '';\r\n  }\r\n  async joinGroupChat() {\r\n    if (this.groupName.trim() === '') {\r\n      alert('You must enter group name!');\r\n      return;\r\n    }\r\n    let numberPage = 2;\r\n    let listMessages: ChatMessageDTO[] = [];\r\n    const result: any = await this.roomService.joinGroupChat(this.groupName);\r\n    console.log(result)\r\n    if (result.status === 'success') {\r\n      listMessages = this.getListMessages(result.data.chatData, listMessages);\r\n      let groupChat: any = await this.searchService.searchGroupChat(\r\n        this.groupName,\r\n        numberPage\r\n      );\r\n      if (groupChat.status === 'success') {\r\n        // while() to check next page data\r\n        while (groupChat.data.chatData.length !== 0) {\r\n          listMessages = this.getListMessages(\r\n            groupChat.data.chatData,\r\n            listMessages\r\n          );\r\n          numberPage++;\r\n          groupChat = await this.searchService.searchGroupChat(\r\n            this.groupName,\r\n            numberPage\r\n          );\r\n        }\r\n      }\r\n      const members: string[] = this.getListMembers(result.data);\r\n      let status = false;\r\n      // check group online\r\n      for (const member of members) {\r\n        if (localStorage.getItem('user') === member) continue;\r\n        const s = await this.checkUserService.checkUser(member);\r\n        if (s) {\r\n          status = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      const chat: ChatDTO = {\r\n        name: result.data.name,\r\n        messages: listMessages,\r\n        isGroup: true,\r\n        isSelect: false,\r\n        members: members,\r\n        status: status,\r\n      };\r\n\r\n      if (\r\n        this.chatService.checkChatInChatList(chat.name, chat.isGroup) !== null\r\n      ) {\r\n        alert('You have joined to ' + this.groupName + ' group!');\r\n        this.reset();\r\n      } else {\r\n        this.chatService.addChat(chat);\r\n        alert('Join ' + this.groupName + ' success!');\r\n        this.reset();\r\n        this.hide();\r\n      }\r\n      this.updateStatus(chat);\r\n    } else {\r\n      alert(this.groupName + ' group not found!');\r\n      this.reset();\r\n    }\r\n  }\r\n\r\n  onKey(event: any) {\r\n    this.joinGroupChat();\r\n  }\r\n\r\n  updateStatus(chatDTO: ChatDTO) {\r\n    this.chatService.getListChat().forEach((element) => {\r\n      if (\r\n        element.name != chatDTO.name ||\r\n        (element.name == chatDTO.name && element.isGroup != chatDTO.isGroup)\r\n      ) {\r\n        element.isSelect = false;\r\n      } else {\r\n        element.isSelect = true;\r\n        this.chatService.setSelectedChat(element);\r\n      }\r\n    });\r\n  }\r\n\r\n  getListMessages(\r\n    chatData: any[],\r\n    listMessages: ChatMessageDTO[]\r\n  ): ChatMessageDTO[] {\r\n    chatData.forEach((element) => {\r\n      const chatMessageDTO: ChatMessageDTO = {\r\n        sender: element.name,\r\n        receiver: element.to,\r\n        message: element.mes,\r\n        time: new Date(Date.parse(element.createAt)).toLocaleString('es-ES'),\r\n        unRead: false,\r\n        position: '',\r\n      };\r\n      listMessages.unshift(chatMessageDTO);\r\n    });\r\n    return listMessages;\r\n  }\r\n\r\n  getListMembers(userData: any): string[] {\r\n    const members: string[] = [userData.own];\r\n    userData.userList.forEach((element) => {\r\n      members.push(element.name);\r\n    });\r\n    return members;\r\n  }\r\n}\r\n","<div\r\n  (click)=\"onContainerClicked($event)\"\r\n  class=\"modal fade modal-style\"\r\n  tabindex=\"-1\"\r\n  [ngClass]=\"{ in: visibleAnimate }\"\r\n  [ngStyle]=\"{\r\n    display: visible ? 'block' : 'none',\r\n    opacity: visibleAnimate ? 1 : 0\r\n  }\"\r\n>\r\n  <div class=\"modal-dialog modal-lg modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">Join Group</h5>\r\n        <button type=\"button\" class=\"closeX\" aria-label=\"Close\" (click)=\"hide()\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"container chat-group\">\r\n          <div class=\"group-name\">\r\n            <div class=\"title\"><p>Group name:</p></div>\r\n            <input\r\n              type=\"text\"\r\n              #gName\r\n              class=\"name-text\"\r\n              [(ngModel)]=\"groupName\"\r\n              (keydown.enter) = \"onKey($event)\"\r\n            />\r\n            <button class=\"btn-join\" (click)=\"joinGroupChat()\">Join</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <div class=\"exit\">\r\n          <button class=\"btn-exit\" (click)=\"hide()\">Cancel</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ChatScreenComponent } from './components/chat-screen/chat-screen.component';\r\nimport { ForgotpasswordformComponent } from './components/forgotpasswordform/forgotpasswordform.component';\r\nimport { LoginformComponent } from './components/loginform/loginform.component';\r\nimport { RegisterformComponent } from './components/registerform/registerform.component';\r\n\r\nconst routes: Routes = [\r\n  {path:'', redirectTo : 'login',pathMatch:'full'},\r\n  {path:'login', component : LoginformComponent},\r\n  {path:'register', component : RegisterformComponent},\r\n  {path:'forgotpassword', component : ForgotpasswordformComponent},\r\n  {path:'chat',component : ChatScreenComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, ElementRef, Input, Output, OnInit, EventEmitter } from '@angular/core';\r\nimport { RoomService } from 'src/app/services/room.service';\r\nimport { ChatDTO } from 'src/app/model/ChatDTO';\r\n\r\nimport { ViewChild } from '@angular/core';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\n@Component({\r\n  selector: 'app-create-chat-group',\r\n  templateUrl: './create-chat-group.component.html',\r\n  styleUrls: ['./create-chat-group.component.css']\r\n})\r\nexport class CreateChatGroupComponent implements OnInit {\r\n  @ViewChild('gName')\r\n  myInputVariable: ElementRef;\r\n  @Output() newGroupEvent: EventEmitter<ChatDTO> = new EventEmitter();\r\n  groupName = '';\r\n  public visible = false;\r\n  public visibleAnimate = false;\r\n  \r\n\r\n  // modal\r\n  public show(): void {\r\n    this.visible = true;\r\n    setTimeout(() => this.visibleAnimate = true, 100);\r\n  }\r\n\r\n  public hide(): void {\r\n    this.visibleAnimate = false;\r\n    this.arrMember = [];\r\n    this.arrMemberChoose.forEach(e => e.isSelect = false);\r\n    setTimeout(() => this.visible = false, 20);\r\n  }\r\n  public onContainerClicked(event: MouseEvent): void {\r\n    if ((<HTMLElement>event.target).classList.contains('modal')) {\r\n      this.hide();\r\n    }\r\n  }\r\n  // reset input\r\n  reset() {\r\n    this.myInputVariable.nativeElement.value = \"\";\r\n  }\r\n\r\n  arrMemberChoose = [\r\n    { id: 0, isSelect: false, isSelectUser: 0, avatar: '../../../assets/image/avatar.png', name: \"Minh Nhật\", message: 'You: How are you?', time: '' },\r\n    { id: 1, isSelect: false, isSelectUser: 1, avatar: '../../../assets/image/avatar.png', name: \"Huy Phước\", message: 'You: How are you?', time: '10:23' },\r\n    { id: 2, isSelect: false, isSelectUser: 2, avatar: '../../../assets/image/avatar.png', name: \"Thanh Tôn\", message: 'You: How are you?', time: '6.6.21' },\r\n    { id: 3, isSelect: false, isSelectUser: 1, avatar: '../../../assets/image/avatar.png', name: \"Loan Loan Loan\", message: 'You: How are you?', time: '10:23' },\r\n    { id: 4, isSelect: false, isSelectUser: 2, avatar: '../../../assets/image/avatar.png', name: \"Thanh Hoa Hoa\", message: 'You: How are you?', time: '6.6.21' },\r\n  ];\r\n  arrMember = [];\r\n  length: string;\r\n\r\n  constructor(private roomService: RoomService, private chatService: ChatService) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n  // tao group\r\n  async createGroupChat(){\r\n    if(this.groupName.trim() === \"\") {\r\n      alert(\"You must enter group name\")\r\n      return;\r\n    }\r\n    const result: any = await this.roomService.createGroupChat(this.groupName);\r\n    if (result.status ==='success') {\r\n      const chat: ChatDTO ={\r\n        name: result.data.name,\r\n        messages: result.data.chatData,\r\n        isGroup: true,\r\n        isSelect: false,\r\n        members: [localStorage.getItem(\"user\")],\r\n        status: false\r\n      }\r\n      this.chatService.addChat(chat);\r\n      alert('Create '+ this.groupName + ' success!');\r\n      this.updateStatus(chat.name)\r\n\r\n      this.reset();\r\n      this.hide();\r\n    } else {\r\n      alert(this.groupName + ' group has been created!');\r\n      this.reset();\r\n    }\r\n  }\r\n  onKey(event: any) {\r\n    this.createGroupChat();\r\n  }\r\n\r\n  updateStatus(name: string) {\r\n    this.chatService.getListChat().forEach(element => {\r\n      if (element.name != name) {\r\n        element.isSelect = false;\r\n      } else {\r\n        element.isSelect = true;\r\n        this.chatService.setSelectedChat(element);\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteMember(id: number) {\r\n    const indexOfArrMember = this.arrMember.findIndex(member => member.id === id);\r\n    this.arrMember.splice(indexOfArrMember, 1);\r\n    const indexOfArrMemberChoose = this.arrMemberChoose.findIndex(member => member.id === id);\r\n    this.arrMemberChoose[indexOfArrMemberChoose].isSelect = false;\r\n  }\r\n\r\n  addMember(id: number) {\r\n    this.arrMemberChoose.forEach(e => {\r\n      if (e.id === id) {\r\n        e.isSelect = true;\r\n        this.arrMember.unshift(e);\r\n        this.length = (this.arrMember.length * 120).toString() + \"px\";\r\n      }\r\n    })\r\n  }\r\n}\r\n","<div (click)=\"onContainerClicked($event)\" class=\"modal fade modal-style\" tabindex=\"-1\" [ngClass]=\"{'in': visibleAnimate}\"\r\n       [ngStyle]=\"{'display': visible ? 'block' : 'none', 'opacity': visibleAnimate ? 1 : 0}\">\r\n    <div class=\"modal-dialog modal-lg modal-xl\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\">Create Group</h5>\r\n          <button type=\"button\" class=\"closeX\" aria-label=\"Close\" (click)=\"hide()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n            <div class=\"group-name\">\r\n                <div class=\"title\"><p>Group name:</p></div>\r\n                <input type=\"text\" #gName class=\"name-text\" [(ngModel)]=\"groupName\" (keydown.enter) = \"onKey($event)\">\r\n                <button class=\"btn-create\" (click)=\"createGroupChat()\">Create</button>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button class=\"btn btn-danger\" (click)=\"hide()\">Cancel</button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { WebSocketService } from './web-socket.service';\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class RoomService {\r\n  constructor(public webSocketService: WebSocketService) { }\r\n\r\n  async createGroupChat(groupName: String) {\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify({\r\n        action: 'onchat',\r\n        data: {\r\n          event: 'CREATE_ROOM',\r\n          data: {\r\n            name: groupName,\r\n          },\r\n        },\r\n      })\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      resolve(res);\r\n    });\r\n  }\r\n\r\n  async joinGroupChat(groupName: string) {\r\n    await this.webSocketService.sendMessage(\r\n      JSON.stringify({\r\n        action: 'onchat',\r\n        data: {\r\n          event: 'JOIN_ROOM',\r\n          data: {\r\n            name: groupName,\r\n          },\r\n        },\r\n      })\r\n    );\r\n    return new Promise((resolve) => {\r\n      const res = JSON.parse(this.webSocketService.res);\r\n      resolve(res);\r\n    });\r\n  }\r\n}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}